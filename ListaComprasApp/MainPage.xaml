<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ListaComprasApp.MainPage">

    <VerticalStackLayout
        Padding="30,0"
        Spacing="25">
        <HorizontalStackLayout
            Spacing="10">
            <Entry
                x:Name="itemEntry"
                WidthRequest="300"
                HeightRequest="50"
                Placeholder="Insira o item"
                Keyboard="Text"
                HorizontalOptions="Fill" />

            <Button
                x:Name="addBtn"
                Text="+"
                TextColor="White"
                SemanticProperties.Hint="Add item"
                Clicked="OnAddClicked"
                HorizontalOptions="Fill" />
        </HorizontalStackLayout>

        <CollectionView
            x:Name="itemsListView"
            HorizontalOptions="Fill"
            VerticalOptions="FillAndExpand">

            <CollectionView.ItemsLayout>
                <LinearItemsLayout Orientation="Vertical" ItemSpacing="6" />
            </CollectionView.ItemsLayout>

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <!-- Use a Button styled as a card to capture Pressed/Released reliably -->
                    <Button
                        x:Name="ItemButton"
                        Text="{Binding .}"
                        FontSize="18"
                        Padding="12"
                        BackgroundColor="#FFFFFF"
                        TextColor="#000"
                        BorderColor="#DDD"
                        CornerRadius="8"
                        HorizontalOptions="Fill"
                        VerticalOptions="Start"
                        Pressed="OnItemPressed"
                        Released="OnItemReleased"
                        CommandParameter="{Binding .}" />
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

    </VerticalStackLayout>

</ContentPage>
